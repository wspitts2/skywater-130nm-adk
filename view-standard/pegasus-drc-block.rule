/////////////////////////////////////////////////////////////////////
//                                                                 //
// Sky130 Open Source PVL DRC Deck                                 //
// Version 0.0_0.5                                                 //
//                                                                 //
//  HIstory:                                                       //
//  Initial Release - Support only for basic non-voltage dependent //
//                    fet devices. Additional support to be added  //
//                    at a later date                              //
//                  - Limited testing as no test structures are    //
//                    Avilable                                     //
//  Rev 0.0_0.5     - Support Aluminum metal stack by Default,     //
//                    Copper by specific switch select             //
//                  - Added dnwell rules                           // 
//                  - Bug fixes                                    //
//  Rev 0.0_1.0     - Major structure update to allow for easier   //
//                    field patching                               //
//                  - Added rule sections:                         //
//                       hvtr, ncm, tumn, rpm, varac, vpp, nsm,    //
//                       mf, hvi, hvnwell, hvdifftap, hvpoly       //
//                       hvntm, denmos, depmos, hv, vhvi, pwres    //
//                  - various bug fixes                            //
//                                                                 //
/////////////////////////////////////////////////////////////////////

//// Parameters for batch launch
//
//// Format of input file. Either gdsii or oasis
//
//layout_format gdsii
//
//// GDS/Oasis file to run DRC on
//
//layout_path "./sky130_fd_sc_ls__bufinv_16.gds"
//
//// Name of top level cell in data file
//
//layout_primary sky130_fd_sc_ls__bufinv_16
//
//// File to store DRC Summary 
//
report_summary -drc "DRC.rep" -replace

// File to store drc output results to be used in Results Viewer

results_db -drc "DRC_RES.db"

// Maximum number of errors output per DRC rule

max_results -drc 1000

// Maximum number of vertices in any polygon created by PEGASUS

max_vertex -drc 4096

// Stop run if there is a problem in the layout like a missing cell

abort_on_layout_error no

text_depth -primary

////////////////////////////////////////////////////////////
//                                                        //
//                      Input Layer Definitions           //
//                                                        //
////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/layer_def.drc.pvl

////////////////////////////////////////////////////////////
//                                                        //
//                      Input Layer Definitions           //
//                                                        //
////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/derived_layers.drc.pvl

//////////////////////////////////////////////////////////////////
//                  Data Integrity Rules                        //
//////////////////////////////////////////////////////////////////

// TBD

//////////////////////////////////////////////////////////////////
//                  Dnwell Rules                                //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/dnwell.drc.pvl

//////////////////////////////////////////////////////////////////
//                  Nwell Rules                                 //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/nwell.drc.pvl

//////////////////////////////////////////////////////////////////
//                  Pwbm Rules                                  //
//////////////////////////////////////////////////////////////////

// Can't code, no values in DRM

//////////////////////////////////////////////////////////////////
//                  Pwdem Rules                                 //
//////////////////////////////////////////////////////////////////

// Can't code, no values in DRM

//////////////////////////////////////////////////////////////////
//                  Hvtp Rules                                  //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/hvtp.drc.pvl

//////////////////////////////////////////////////////////////////
//                  hvtr Rules                                  //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/hvtr.drc.pvl

//////////////////////////////////////////////////////////////////
//                  lvtn rules                                  //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/lvtn.drc.pvl

//////////////////////////////////////////////////////////////////
//                  ncm rules                                   //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/ncm.drc.pvl

//////////////////////////////////////////////////////////////////
//                  difftap rules                               //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/difftap.drc.pvl

//////////////////////////////////////////////////////////////////
//                  tunm rules                                  //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/tunm.drc.pvl

//////////////////////////////////////////////////////////////////
//                  poly rules                                  //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/poly.drc.pvl

//////////////////////////////////////////////////////////////////
//                  rpm rules                                   //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/rpm.drc.pvl

//////////////////////////////////////////////////////////////////
//                  varac rules                                 //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/varac.drc.pvl

//////////////////////////////////////////////////////////////////
//                  photo rules                                 //
//////////////////////////////////////////////////////////////////

// TBD

//////////////////////////////////////////////////////////////////
//                  npc rules                                   //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/npc.drc.pvl

//////////////////////////////////////////////////////////////////
//                  n/psd rules                                 //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/n_psd.drc.pvl

//////////////////////////////////////////////////////////////////
//                  licon rules                                 //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/licon.drc.pvl

//////////////////////////////////////////////////////////////////
//                  li rules                                    //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/li.drc.pvl

//////////////////////////////////////////////////////////////////
//                  mcon(ct) rules                              //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/mcon.drc.pvl

//////////////////////////////////////////////////////////////////
//                 capm rules                                   //
//////////////////////////////////////////////////////////////////

// TBD

//////////////////////////////////////////////////////////////////
//                 vpp rules                                    //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/vpp.drc.pvl

//////////////////////////////////////////////////////////////////
//                 m1 rules                                     //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/m1.drc.pvl

//////////////////////////////////////////////////////////////////
//                 via rules                                    //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/via.drc.pvl

//////////////////////////////////////////////////////////////////
//                 m2 rules                                     //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/m2.drc.pvl

//////////////////////////////////////////////////////////////////
//                 via2 rules                                   //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/via2.drc.pvl

//////////////////////////////////////////////////////////////////
//                 m3 rules                                     //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/m3.drc.pvl

//////////////////////////////////////////////////////////////////
//                 via3 rules                                   //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/via3.drc.pvl

//////////////////////////////////////////////////////////////////
//                 nsm rules                                    //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/nsm.drc.pvl

//////////////////////////////////////////////////////////////////
//                 indm rules                                   //
//////////////////////////////////////////////////////////////////

// TBD

//////////////////////////////////////////////////////////////////
//                 m4 rules                                     //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/m4.drc.pvl

//////////////////////////////////////////////////////////////////
//                 via4 rules                                   //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/via4.drc.pvl

//////////////////////////////////////////////////////////////////
//                 m5 rules                                     //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/m5.drc.pvl

//////////////////////////////////////////////////////////////////
//                 pad rules                                    //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/pad.drc.pvl

//////////////////////////////////////////////////////////////////
//                 rdl rules                                    //
//////////////////////////////////////////////////////////////////

// Cu not implemented in this PDK, so rdl not needed for now
//Include $PEGASUS_DRC/Include/rdl.drc.pvl

//////////////////////////////////////////////////////////////////
//                 mf rules                                     //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/mf.drc.pvl

//////////////////////////////////////////////////////////////////
//                 hvi rules                                    //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/hvi.drc.pvl

//////////////////////////////////////////////////////////////////
//                 hvnwell rules                                //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/hvnwell.drc.pvl

//////////////////////////////////////////////////////////////////
//                 hvdifftap rules                              //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/hvdifftap.drc.pvl

//////////////////////////////////////////////////////////////////
//                 hvpoly rules                                 //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/hvpoly.drc.pvl

//////////////////////////////////////////////////////////////////
//                 hvntm rules                                  //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/hvntm.drc.pvl

//////////////////////////////////////////////////////////////////
//                 denmos rules                                 //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/denmos.drc.pvl

//////////////////////////////////////////////////////////////////
//                 depmos rules                                 //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/depmos.drc.pvl

//////////////////////////////////////////////////////////////////
//                 extd rules                                   //
//////////////////////////////////////////////////////////////////

//  TBD

//////////////////////////////////////////////////////////////////
//                 hv rules                                     //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/hv.drc.pvl

//////////////////////////////////////////////////////////////////
//                 vhvi rules                                   //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/vhvi.drc.pvl

//////////////////////////////////////////////////////////////////
//                 uhvi rules                                   //
//////////////////////////////////////////////////////////////////

//  TBD

//////////////////////////////////////////////////////////////////
//                 ulvt rules                                   //
//////////////////////////////////////////////////////////////////

//  TBD

/////////////////////////////////////////////////////////////////
//                 pwres rules                                  //
//////////////////////////////////////////////////////////////////

Include $PEGASUS_DRC/Include/pwres.drc.pvl

//////////////////////////////////////////////////////////////////
//                 rfdiode rules                                //
//////////////////////////////////////////////////////////////////

//  TBD



